{
  "permissions": {
    "allow": [
      "Bash(find:*)",
      "Bash(grep:*)",
      "Bash(npm run build:*)",
      "Bash(npm run lint:*)",
      "Bash(npx tsc:*)",
      "Bash(xargs -I {} sh -c 'echo \"\"\"\"=== {} ===\"\"\"\" && ls -la {}')",
      "Bash(ls:*)",
      "Bash(git -C /Users/tsukimori.hayato/Documents/GitHub/website_system ls-files:*)",
      "Bash(npm install:*)",
      "Bash(npx next lint)",
      "Bash(npx eslint:*)",
      "Bash(git remote set-url:*)",
      "Bash(git remote:*)",
      "Bash(env:*)",
      "Bash(claude tool search:*)",
      "Bash(claude mcp add:*)",
      "Bash(claude mcp:*)",
      "Bash(lsof:*)",
      "Bash(kill:*)",
      "Bash(git push:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nfix: GTM IDを本番用に変更（GTM-5S84PLS6）\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(gh pr create:*)",
      "Bash(gh api:*)",
      "Bash(curl:*)",
      "Bash(python3:*)",
      "Bash(__NEW_LINE_75f2f436ec0bf251__ cd /Users/tsukimori.hayato/Documents/GitHub/01_choice/shin-tokyo-clinic)",
      "Bash(__NEW_LINE_75f2f436ec0bf251__ echo \"=== CtaJoin references ===\")",
      "Bash(__NEW_LINE_75f2f436ec0bf251__ echo -e \"\\\\n=== ScrollButton references ===\")",
      "Bash(__NEW_LINE_75f2f436ec0bf251__ echo -e \"\\\\n=== FaqList_01 references ===\")",
      "Bash(__NEW_LINE_a94ba344b935c9dc__ cd /Users/tsukimori.hayato/Documents/GitHub/01_choice/shin-tokyo-clinic)",
      "Bash(__NEW_LINE_a94ba344b935c9dc__ python3 << 'PYTHON_EOF'\nimport os\nimport re\nfrom pathlib import Path\n\n# Find all component files\nall_components = set\\(\\)\nfor root, dirs, files in os.walk\\(\"components\"\\):\n    if \"node_modules\" in root:\n        continue\n    for file in files:\n        if file.endswith\\(\\(\".tsx\", \".ts\"\\)\\):\n            path = os.path.join\\(root, file\\)\n            # Remove extension for import path\n            import_path = path.replace\\(\"components/\", \"\"\\).rsplit\\(\".\", 1\\)[0]\n            all_components.add\\(\\(import_path, path\\)\\)\n\n# Find all imports\nimported = set\\(\\)\nfor search_dir in [\"app\", \"lib\", \"components\"]:\n    for root, dirs, files in os.walk\\(search_dir\\):\n        if \"node_modules\" in root:\n            continue\n        for file in files:\n            if file.endswith\\(\\(\".tsx\", \".ts\", \".jsx\", \".js\"\\)\\):\n                filepath = os.path.join\\(root, file\\)\n                try:\n                    with open\\(filepath, 'r', encoding='utf-8'\\) as f:\n                        content = f.read\\(\\)\n                        # Find all @/components imports\n                        matches = re.findall\\(r'from\\\\s+[\"\\\\']@/components/\\([^\"\\\\']+\\)[\"\\\\']', content\\)\n                        for match in matches:\n                            imported.add\\(match\\)\n                except:\n                    pass\n\n# Find unused components\nunused = []\nfor import_path, file_path in sorted\\(all_components\\):\n    if import_path not in imported:\n        unused.append\\(\\(\"/Users/tsukimori.hayato/Documents/GitHub/01_choice/shin-tokyo-clinic/\" + file_path, import_path\\)\\)\n\n# Print results\nprint\\(\"UNUSED COMPONENT FILES:\"\\)\nprint\\(\"=\" * 100\\)\nfor path, import_path in sorted\\(unused\\):\n    print\\(path\\)\n\nprint\\(\"\\\\n\" + \"=\" * 100\\)\nprint\\(f\"Total unused components: {len\\(unused\\)}\"\\)\nPYTHON_EOF)",
      "Bash(__NEW_LINE_ca5ee8b1059edaae__ cd /Users/tsukimori.hayato/Documents/GitHub/01_choice/shin-tokyo-clinic)",
      "Bash(__NEW_LINE_ca5ee8b1059edaae__ python3 << 'PYTHON_EOF'\nimport os\nimport re\n\n# Find all component files\nall_components = set\\(\\)\nfor root, dirs, files in os.walk\\(\"components\"\\):\n    if \"node_modules\" in root:\n        continue\n    for file in files:\n        if file.endswith\\(\\(\".tsx\", \".ts\"\\)\\):\n            path = os.path.join\\(root, file\\)\n            import_path = path.replace\\(\"components/\", \"\"\\).rsplit\\(\".\", 1\\)[0]\n            all_components.add\\(\\(import_path, path\\)\\)\n\n# Find all imports\nimported = set\\(\\)\nfor search_dir in [\"app\", \"lib\", \"components\"]:\n    for root, dirs, files in os.walk\\(search_dir\\):\n        if \"node_modules\" in root:\n            continue\n        for file in files:\n            if file.endswith\\(\\(\".tsx\", \".ts\", \".jsx\", \".js\"\\)\\):\n                filepath = os.path.join\\(root, file\\)\n                try:\n                    with open\\(filepath, 'r', encoding='utf-8'\\) as f:\n                        content = f.read\\(\\)\n                        matches = re.findall\\(r'from\\\\s+[\"\\\\']@/components/\\([^\"\\\\']+\\)[\"\\\\']', content\\)\n                        for match in matches:\n                            imported.add\\(match\\)\n                except:\n                    pass\n\n# Find unused components\nunused = []\nfor import_path, file_path in sorted\\(all_components\\):\n    if import_path not in imported:\n        unused.append\\(\\(file_path, import_path\\)\\)\n\n# Print results organized by category\nprint\\(\"\\\\nUNUSED COMPONENT FILES BY CATEGORY\"\\)\nprint\\(\"=\" * 100\\)\n\nby_category = {}\nfor file_path, import_path in unused:\n    category = file_path.split\\(\"/\"\\)[1] if \"/\" in file_path else \"root\"\n    if category not in by_category:\n        by_category[category] = []\n    by_category[category].append\\(\\(file_path, import_path\\)\\)\n\nfor category in sorted\\(by_category.keys\\(\\)\\):\n    print\\(f\"\\\\n{category.upper\\(\\)}:\"\\)\n    print\\(\"-\" * 100\\)\n    for file_path, import_path in sorted\\(by_category[category]\\):\n        print\\(f\"  {file_path}\"\\)\n\nprint\\(\"\\\\n\" + \"=\" * 100\\)\nprint\\(f\"\\\\nTOTAL UNUSED: {len\\(unused\\)} components\"\\)\nPYTHON_EOF)",
      "Bash(/tmp/find_unused.sh << 'EOF'\n#!/bin/bash\nbase=\"/Users/tsukimori.hayato/Documents/GitHub/01_choice/shin-tokyo-clinic\"\n\n# Find all component files in specified directories\nfor file in $\\(find \"$base/components\" -maxdepth 3 -name \"*.tsx\" -type f | grep -E \"\\(lowerkv|header|footer|top|news|case|blog|about|contact|coming-soon|price|privacy|service|site|general|ui/module/cta\\)\" | sort\\); do\n  # Extract component name \\(filename without path and .tsx\\)\n  comp_name=$\\(basename \"$file\" .tsx\\)\n  \n  # Skip if it's a utility/frame component\n  if [[ \"$comp_name\" == \"FirstViewContent\" || \"$comp_name\" == \"FaqAccordion_01\" || \"$comp_name\" == \"ToastProvider\" || \"$comp_name\" == \"NavigationArrow\" || \"$comp_name\" == \"GoogleTagManager\" || \"$comp_name\" == \"ComingSoon\" ]]; then\n    continue\n  fi\n  \n  # Skip UI module frame/button components\n  if [[ \"$file\" == *\"ui/frame\"* || \"$file\" == *\"ui/button\"* || \"$file\" == *\"ui/navigation\"* || \"$file\" == *\"ui/icons\"* || \"$file\" == *\"ui/module/\"* ]] && [[ \"$comp_name\" != \"Cta_\"* && \"$comp_name\" != \"Aside_\"* ]]; then\n    continue\n  fi\n  \n  # Search for this component in the entire codebase\n  if ! grep -r \"$comp_name\" \"$base\" --include=\"*.tsx\" --include=\"*.ts\" 2>/dev/null | grep -v \"node_modules\" | grep -q \"import.*$comp_name\"; then\n    echo \"UNUSED: $file\"\n  fi\ndone\nEOF)",
      "Bash(chmod:*)",
      "Bash(/tmp/find_unused.sh:*)",
      "Bash(__NEW_LINE_29c1dce726bcd4a3__ grep -r \"ItemCard\\\\|PlanCard\\\\|PlanList\" /Users/tsukimori.hayato/Documents/GitHub/01_choice/shin-tokyo-clinic --include=*.tsx --include=*.ts)",
      "Bash(__NEW_LINE_ad153a7b91ffe2b9__ ls -la /Users/tsukimori.hayato/Documents/GitHub/01_choice/shin-tokyo-clinic/components/ui/ItemCard)"
    ]
  }
}
